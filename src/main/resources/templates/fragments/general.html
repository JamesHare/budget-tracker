<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:fragment="headerfiles">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <link href="https://getbootstrap.com/docs/3.4/examples/sticky-footer-navbar/sticky-footer-navbar.css" rel="stylesheet">
    </head>
    <body style="background-color: #F5F8FA">

        <!-- start header -->
        <div th:fragment="header">
            <nav class="navbar fixed-top navbar-expand-sm navbar-light" style="background-color: #78C257; border-bottom: 2px dashed #383838">
                <div class="container">
                    <a
                            href="/"
                            class="navbar-brand mb-0 h1">
                        <img
                                class="d-inline-block align-top"
                                src="https://iconscout.com/iconscout_logo-1024x1024.png"
                                width="30" height="30"
                        />
                    </a>
                    <button
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#navbarNav"
                            class="navbar-toggler"
                            aria-controls="navbarNav"
                            aria-expanded="false"
                            aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse"
                         id="navbarNav" >
                        <ul class="navbar-nav me-auto">
                            <li class="nav-item active" sec:authorize="isAuthenticated()">
                                <a href="/" class="nav-link active mx-1" style="color: #383838; font-weight: bold">
                                    Dashboard
                                </a>
                            </li>
                            <li class="nav-item active" sec:authorize="isAuthenticated()">
                                <a href="/statement" class="nav-link active mx-1" style="color: #383838; font-weight: bold">
                                    Statements
                                </a>
                            </li>
                            <li class="nav-item active" sec:authorize="isAuthenticated()">
                                <a href="/categorize" class="nav-link active mx-1" style="color: #383838; font-weight: bold">
                                    Categorize
                                </a>
                            </li>
                            <li class="nav-item active" sec:authorize="isAuthenticated()">
                                <a href="/analytics" class="nav-link active mx-1" style="color: #383838; font-weight: bold">
                                    Analytics
                                </a>
                            </li>
                            <li class="nav-item active dropdown" sec:authorize="hasAuthority('ADMIN')">
                                <a href="#" class="nav-link active mx-1 dropdown-toggle"
                                id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false" style="color: #383838; font-weight: bold">
                                    Admin
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <li><a href="/admin/categories" class="dropdown-item" style="color: #383838; font-weight: bold">Categories</a></li>
                                </ul>
                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <li sec:authorize="isAnonymous()">
                                <a href="/login" class="nav-link active mx-2" style="color: #383838; font-weight: bold">
                                    Log In
                                </a>
                            </li>
                            <li sec:authorize="isAuthenticated()">
                                <a href="/logout" class="nav-link active mx-2" style="color: #383838; font-weight: bold">
                                    Log Out
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
        <!-- end header -->

        <!-- start footer -->
        <footer th:fragment="footer" class="footer" style="background-color: #F5F8FA">
            <div class="container">
                <div class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
                    <p class="col-md-4 mb-0 text-muted">&copy; 2023 Budget Tracker by James Hare</p>
                </div>
            </div>
        </footer>
        <!-- end footer -->

        <!-- start alert module -->
        <div th:fragment="alerts">
            <span th:if="${messages != null}">
                <div th:switch="${success}">
                    <span th:case="${true}">
                        <div class="alert alert-success">
                        <span th:each="message : ${messages}" th:utext="${message}"></span>
                    </div>
                    </span>
                    <span th:case="${false}">
                        <div class="alert alert-danger">
                        <span th:each="message : ${messages}" th:utext="${message}"></span>
                    </div>
                    </span>
                </div>
            </span>
        </div>
        <!-- end alert module -->

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
                crossorigin="anonymous"></script>
    </body>
</html>